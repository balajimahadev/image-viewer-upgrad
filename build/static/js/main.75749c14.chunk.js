(this["webpackJsonpimage-viewer"]=this["webpackJsonpimage-viewer"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},107:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),l=a.n(s),i=(a(100),a(20)),o=a(21),c=a(24),m=a(23),u=a(81),d=a(10),p=(a(101),a(102),a(148)),h=a(78),f=a.n(h),g=a(149),E=a(165),b=a(82),v=a(167),k=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).menuOpenHandler=function(t){e.setState({anchorEl:t.currentTarget})},e.menuCloseHandler=function(){e.setState({anchorEl:null})},e.logoutHandler=function(){sessionStorage.removeItem("access-token"),e.menuCloseHandler(),e.props.history.push("/")},e.profileRedirect=function(){e.props.history.push("/profile")},e.homeRedirect=function(){e.props.history.push("/home")},e.state={anchorEl:null,searchValue:"",userProfileData:{full_name:"Avinash Shrimali",profile_picture:"https://scontent.cdninstagram.com/v/t51.29350-15/118885986_328768241703876_1409494140667970700_n.jpg?_nc_cat=104&_nc_sid=8ae9d6&_nc_ohc=CeFkYEPVjIQAX-_r17E&_nc_ht=scontent.cdninstagram.com&oh=9d991d4d20441fd91edec25ae569d1c1&oe=5F828618"}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){!1===this.state.loggedIn&&this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title",onClick:this.homeRedirect},"Image Viewer"),r.a.createElement("div",{className:"header-right"},!0===this.props.showSearchBar?r.a.createElement("div",{id:"search-field"},r.a.createElement("div",{className:"searchIcon"},r.a.createElement(f.a,null)),r.a.createElement(p.a,{className:"searchInput",onChange:this.props.searchChangeHandler,disableUnderline:!0,placeholder:"Search..."})):"",r.a.createElement(g.a,{id:"profile-icon",edge:"start",color:"inherit","aria-label":"menu",style:{marginTop:"0.5rem",marginRight:"0.5rem"}},this.state.userProfileData?r.a.createElement(E.a,{alt:this.state.userProfileData.full_name,id:"profile-icon",fontSize:"small",ariant:"circle",src:this.state.userProfileData.profile_picture,onClick:this.menuOpenHandler}):null,r.a.createElement(b.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.menuCloseHandler},r.a.createElement(v.a,{onClick:this.profileRedirect},"My Account"),r.a.createElement(v.a,{onClick:this.logoutHandler},"Logout")))))}}]),a}(n.Component),y=a(150),S=a(151),j=a(152),C=a(60),_=a(166),O=a(153),D=a(154),w=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).inputUsernameHandler=function(t){e.setState({username:t.target.value}),t.target.value?e.setState({usernameRequired:!1}):e.setState({usernameRequired:!0})},e.inputPasswordHandler=function(t){e.setState({password:t.target.value}),t.target.value?e.setState({passwordRequired:!1}):e.setState({passwordRequired:!0})},e.loginClickHandler=function(){e.setState({loginError:!1}),""!==e.state.username&&""!==e.state.password&&("admin"===e.state.username&&"admin"===e.state.password?(sessionStorage.setItem("access-token","IGQVJXT3hJV0U1YmhLSUFGMExXcFBjZAGRDSDNsWlpHeTZAFb3ZABYjNDcG1wNkphVFY5SUk1bDlUZAGYzN3dCYWlESVZAjTXh4VnFlamdCOUtnb3NkX0w1TUloRDRES08yR3NFYWJCNGFESXpzMEx6TFNidwZDZD"),e.props.history.push("/home")):e.setState({loginError:!0}))},e.state={usernameRequired:!1,username:"",passwordRequired:!1,password:"",loginError:!1,loggedIn:null!=sessionStorage.getItem("access-token")},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k,Object.assign({},this.props,{showSearchBarAndProfileIcon:!1})),r.a.createElement("div",{className:"login-page-content"},r.a.createElement(y.a,{className:"login-card"},r.a.createElement(S.a,{className:"login-card-content"},r.a.createElement(C.a,{className:"login-card-heading",component:"div"},"LOGIN"),r.a.createElement(j.a,{className:"login-card-form-username",required:!0},r.a.createElement(_.a,{htmlFor:"username"},"Username"),r.a.createElement(p.a,{id:"username",type:"text",username:this.state.username,onChange:this.inputUsernameHandler}),this.state.usernameRequired?r.a.createElement(O.a,null,r.a.createElement("span",{className:"red"},"required")):null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(j.a,{className:"login-card-form-password",required:!0},r.a.createElement(_.a,{htmlFor:"password"},"Password"),r.a.createElement(p.a,{id:"password",type:"password",password:this.state.password,onChange:this.inputPasswordHandler}),this.state.passwordRequired?r.a.createElement(O.a,null,r.a.createElement("span",{className:"red"},"required")):null),r.a.createElement("br",null),r.a.createElement("br",null),this.state.loginError?r.a.createElement(O.a,null,r.a.createElement("span",{className:"red"},"Incorrect username and/or password")):null,r.a.createElement("br",null),r.a.createElement(D.a,{className:"login-card-button",variant:"contained",color:"primary",disabled:""===this.state.username||""===this.state.password,onClick:this.loginClickHandler},"LOGIN")))))}}]),a}(n.Component),I=a(28),N=a(15),x=a(155),M=a(157),U=a(158),P=a(159),H=a(59),F=a(57),V=a.n(F),R=a(58),A=a.n(R),q=a(156),B=(a(107),a(79)),Y=a.n(B),z=a(163),T=Object(x.a)((function(e){return{card:{maxWidth:"100%"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:H.a[500]}}}));function G(e){var t=T(),a=r.a.useState(""),s=Object(N.a)(a,2),l=s[0],i=s[1],o=r.a.useState(["upgrad","fullStackDev"]),c=Object(N.a)(o,2),m=c[0],u=(c[1],r.a.useState(!1)),d=Object(N.a)(u,2),p=d[0],h=d[1],f=e.data;function b(e){i(e.target.value)}Object(n.useEffect)((function(){f&&f.map((function(e){return e.comments=[],e}))}),[f]),Object(n.useEffect)((function(){f&&f.map((function(e){return e.liked=!1,e}))}),[f]);return r.a.createElement(q.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"center"},e.data&&e.data.map((function(e,a){return r.a.createElement(q.a,{item:!0,xs:6,key:e.id},r.a.createElement(y.a,{className:t.card,variant:"outlined"},r.a.createElement(M.a,{avatar:r.a.createElement(E.a,{alt:e.username,src:e.media_url}),title:e.username,subheader:r.a.createElement(Y.a,{format:"DD/MM/YYYY HH:mm:ss",interval:e.timestamp})}),r.a.createElement(U.a,{className:t.media,image:e.media_url,title:"Paella dish"}),r.a.createElement(S.a,null,r.a.createElement(C.a,{variant:"bodyNew",color:"textSecondary",component:"p"},e.caption.split("#")[0]),r.a.createElement(C.a,{variant:"bodyNew",color:"textSecondary",component:"p"},m.map((function(e){return r.a.createElement("span",{style:{color:"#1976d2",fontSize:"14px"},size:"small",key:e},"#",e," ")}))),r.a.createElement(C.a,{variant:"bodyNew",color:"textSecondary",component:"div"},e.comments&&e.comments.length>0&&e.comments.map((function(t){return r.a.createElement("p",{style:{fontSize:"16px"},key:t},r.a.createElement("b",null,e.username,":")," ",t)})))),r.a.createElement(P.a,{disableSpacing:!0},r.a.createElement(g.a,{"aria-label":"add to favorites",onClick:function(){return function(e){f[e].hasOwnProperty("liked")||(f[e].liked=!1);var t=f[e].liked;f[e].liked=!t,h(!p)}(a)}},f[a].liked?r.a.createElement(V.a,{style:{color:H.a[500]}}):r.a.createElement(A.a,null)),r.a.createElement("span",null,f[a].liked?1:0," ","likes")),r.a.createElement("div",{style:{margin:"1rem"}},r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off"},r.a.createElement(z.a,{id:"add-comment"+a,label:"Add a comment",onChange:b}),r.a.createElement(D.a,{variant:"contained",id:"add-comments-button"+a,color:"primary",onClick:function(){return function(e){l&&(f[e].hasOwnProperty("comments")||(f[e].comments=[]),f[e].comments=f[e].comments.concat([l]));i(""),document.getElementById("add-comment"+e).value=""}(a)}},"Add")))))})))}var W=a(160),X=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getMediaDetails=function(t,a){var n=[];t.forEach((function(t){if(t.id){var r=a+t.id+"?fields=id,media_type,media_url,username,timestamp&access_token="+sessionStorage.getItem("access-token");fetch(r).then((function(e){return e.json()})).then((function(a){var r=a;r.caption=t.caption,n.push(r),e.state.userMediaData.push(a),e.setState({stateChange:!e.state.stateChange,filterData:e.state.userMediaData})}),(function(t){console.log("error...",t),e.props.history.push("/login")}))}}))},e.searchChangeHandler=function(t){if(e.setState({searchValue:t.target.value}),t.target.value){var a=e.state.filterData.filter((function(t){if(t.caption.split("#")[0].indexOf(e.state.searchValue)>-1)return t}));e.setState({filterData:a})}else e.setState({filterData:e.state.userMediaData})},e.state={loggedIn:null!=sessionStorage.getItem("access-token"),userProfileData:{full_name:"Avinash Shrimali",profile_picture:"https://scontent.cdninstagram.com/v/t51.29350-15/118885986_328768241703876_1409494140667970700_n.jpg?_nc_cat=104&_nc_sid=8ae9d6&_nc_ohc=CeFkYEPVjIQAX-_r17E&_nc_ht=scontent.cdninstagram.com&oh=9d991d4d20441fd91edec25ae569d1c1&oe=5F828618"},userData:null,filterData:[],userMediaData:[],stateChange:!1,searchValue:""},e.getMediaDetails=e.getMediaDetails.bind(Object(I.a)(e)),e.getMediaInfo=e.getMediaInfo.bind(Object(I.a)(e)),e}return Object(o.a)(a,[{key:"getUserProfileInfo",value:function(){var e=this;fetch(this.props.baseUrl+"?access_token="+sessionStorage.getItem("access-token")).then((function(e){return e.json()})).then((function(t){e.setState({userProfileData:t.data})}),(function(t){console.log("error...",t),e.props.history.push("/login")}))}},{key:"getMediaInfo",value:function(){var e=this;this.setState({userMediaData:[]}),fetch(this.props.baseUrl+"me/media?fields=id,caption&access_token="+sessionStorage.getItem("access-token")).then((function(e){return e.json()})).then((function(t){e.setState({userData:t.data}),e.getMediaDetails(t.data,e.props.baseUrl)}),(function(t){console.log("error...",t),e.props.history.push("/login")}))}},{key:"componentDidMount",value:function(){!1===this.state.loggedIn&&this.props.history.push("/"),this.getUserProfileInfo(),this.getMediaInfo()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k,Object.assign({},this.props,{showSearchBar:!0,searchChangeHandler:this.searchChangeHandler})),r.a.createElement(W.a,{maxWidth:"xl"},r.a.createElement(G,{data:this.state.filterData})))}}]),a}(n.Component),Z=a(80),J=a.n(Z),L=(a(110),a(164)),Q=a(161);function K(){return{top:"".concat(33,"%"),left:"".concat(33,"%")}}var $=Object(x.a)((function(e){return{paper:{position:"absolute",width:"34%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},avatar:{backgroundColor:H.a[500]}}}));function ee(e){var t=$(),a=e.selectedImage,n=e.openImageView,s=e.handleClose,l=r.a.useState(K),i=Object(N.a)(l,1)[0],o=r.a.useState(""),c=Object(N.a)(o,2),m=c[0],u=c[1],d=r.a.useState(!1),p=Object(N.a)(d,2),h=p[0],f=p[1],b=r.a.useState([]),v=Object(N.a)(b,2),k=v[0],y=v[1];return r.a.createElement("div",null,r.a.createElement(L.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:n,onBackdropClick:function(){s(),y([]),f(!1)}},r.a.createElement("div",{style:i,className:t.paper},r.a.createElement(q.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(q.a,{item:!0,xs:6},a?r.a.createElement("img",{src:a.media_url,alt:a.media_url,style:{height:"100%",width:"100%"}}):null),r.a.createElement(q.a,{item:!0,xs:6},a?r.a.createElement("div",null,r.a.createElement(q.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(q.a,{item:!0,xs:4},r.a.createElement(E.a,{alt:a.username,src:a.media_url}))," ",r.a.createElement(q.a,{item:!0,xs:8},r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},a.username))),r.a.createElement(Q.a,{variant:"fullWidth"}),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"}," #pgcertificate"),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},a.tags&&a.tags.map((function(e){return r.a.createElement("span",{style:{color:"#1976d2",fontSize:"14px"},size:"small",key:e,color:"primary"},"#",e," ")}))),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"div"},k.length>0&&k.map((function(e){return r.a.createElement("p",{style:{fontSize:"16px",fontWeight:"bold"},key:e},r.a.createElement("b",null,a.username,":")," ",e)}))),r.a.createElement(P.a,{disableSpacing:!0},r.a.createElement(g.a,{"aria-label":"add to favorites",onClick:function(){f(!h)}},h?r.a.createElement(V.a,{style:{color:H.a[500]}}):r.a.createElement(A.a,null)),r.a.createElement("span",null,h?1:0," ","likes")),r.a.createElement("div",{style:{margin:"1rem"}},r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off"},r.a.createElement(z.a,{id:"add-user-comment",value:m,onChange:function(e){u(e.target.value)},label:"Add a comment"}),r.a.createElement(D.a,{variant:"contained",color:"primary",disabled:!m,onClick:function(){if(m){var e=[m],t=k.concat(e);y(t),u("")}}},"Add")))):null)))))}var te=Object(x.a)((function(e){return{media:{height:0,paddingTop:"56.25%"}}}));function ae(e){var t=te(),a=Object(n.useState)(!1),s=Object(N.a)(a,2),l=s[0],i=s[1],o=Object(n.useState)(""),c=Object(N.a)(o,2),m=c[0],u=c[1];return r.a.createElement(q.a,{container:!0,spacing:1,direction:"row",alignItems:"center"},e.data&&e.data.map((function(e){return r.a.createElement(q.a,{id:"image-grids",item:!0,xs:4,key:e.id,onClick:function(){return function(e){i(!0),u(e)}(e)}},r.a.createElement(y.a,{className:t.card,variant:"outlined"},r.a.createElement(U.a,{className:t.media,image:e.media_url,title:e.media_url})))})),r.a.createElement(ee,{openImageView:l,selectedImage:m,handleClose:function(){i(!1),u("")}}))}var ne=a(162);a(111);function re(){return{top:"".concat(30,"%"),left:"".concat(30,"%")}}var se=Object(x.a)((function(e){return{paper:{position:"absolute",width:"25%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function le(e){var t=se(),a=r.a.useState(re),n=Object(N.a)(a,1)[0],s=r.a.useState(""),l=Object(N.a)(s,2),i=l[0],o=l[1],c=r.a.useState(!1),m=Object(N.a)(c,2),u=m[0],d=m[1];return r.a.createElement("div",null,r.a.createElement(L.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:e.editUserModal,onClose:e.handleClose,onBackdropClick:e.handleClose},r.a.createElement("div",{style:n,className:t.paper},r.a.createElement("h2",{id:"simple-modal-title"},"Edit"),r.a.createElement(j.a,{id:"fullName-form-control",required:!0},r.a.createElement(_.a,{htmlFor:"fullName"},"Full Name"),r.a.createElement(p.a,{id:"fullName",type:"text",onChange:function(t){o(t.target.value),e.updateClickHandler(t.target.value),t.target.value?d(!1):d(!0)}}),u?r.a.createElement(O.a,null,r.a.createElement("span",{className:"red"},"Full name required")):null),r.a.createElement("div",{style:{marginTop:"1rem"}},r.a.createElement(D.a,{variant:"contained",color:"primary",disabled:!i,onClick:e.submitClickHandler},"Update")))))}var ie=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleClose=function(){e.setState({editUserModal:!1})},e.handleOpen=function(){e.setState({editUserModal:!0})},e.updateClickHandler=function(t){e.setState({viewUpdateFullName:t})},e.submitClickHandler=function(){e.setState({editUserModal:!1,fullname:e.state.viewUpdateFullName})},e.getMediaData=function(t,a){var n=[];t.forEach((function(t){if(t.id){var r=a+t.id+"?fields=id,media_type,media_url,username,timestamp&access_token="+sessionStorage.getItem("access-token");fetch(r).then((function(e){return e.json()})).then((function(a){var r=a;r.caption=t.caption,n.push(r),e.state.userMediaData.push(r),e.setState({stateChange:!e.state.stateChange})}),(function(t){console.log("error...",t),e.props.history.push("/login")}))}}))},e.state={loggedIn:null!=sessionStorage.getItem("access-token"),userProfileData:{full_name:"Balaji Mahadev",profile_picture:"https://scontent.cdninstagram.com/v/t51.29350-15/118885986_328768241703876_1409494140667970700_n.jpg?_nc_cat=104&_nc_sid=8ae9d6&_nc_ohc=CeFkYEPVjIQAX-_r17E&_nc_ht=scontent.cdninstagram.com&oh=9d991d4d20441fd91edec25ae569d1c1&oe=5F828618"},editUserModal:!1,filterData:null,userMediaData:null,searchValue:"",viewUpdateFullName:"",fullname:"",stateChange:!1},e.getMediaData=e.getMediaData.bind(Object(I.a)(e)),e.getMediaIds=e.getMediaIds.bind(Object(I.a)(e)),e}return Object(o.a)(a,[{key:"getUserProfileData",value:function(){var e=this;fetch(this.props.baseUrl+"?access_token="+sessionStorage.getItem("access-token")).then((function(e){return e.json()})).then((function(t){e.setState({userProfileData:t.data})}),(function(t){console.log("error...",t),e.props.history.push("/login")}))}},{key:"getMediaIds",value:function(){var e=this;this.setState({userMediaData:[]}),fetch(this.props.baseUrl+"me/media?fields=id,caption&access_token="+sessionStorage.getItem("access-token")).then((function(e){return e.json()})).then((function(t){e.setState({userData:t.data}),e.getMediaData(t.data,e.props.baseUrl)}),(function(t){console.log("error...",t),e.props.history.push("/login")}))}},{key:"componentDidMount",value:function(){!1===this.state.loggedIn&&this.props.history.push("/"),this.getMediaIds()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k,Object.assign({},this.props,{showSearchBar:!1})),r.a.createElement(W.a,{maxWidth:"xl"},r.a.createElement("div",{style:{height:"2rem"}}),r.a.createElement(q.a,{container:!0,spacing:3,justify:"flex-start"},r.a.createElement(q.a,{item:!0,xs:3}),r.a.createElement(q.a,{item:!0,xs:2},this.state.userProfileData?r.a.createElement(E.a,{alt:this.state.userProfileData.full_name,id:"profile-image",fontSize:"large",variant:"circle",src:this.state.userProfileData.profile_picture}):null),r.a.createElement(q.a,{item:!0,xs:5},r.a.createElement(C.a,{variant:"h5",component:"h2"},this.state.userProfileData?this.state.userProfileData.username:null),r.a.createElement(q.a,{container:!0,spacing:3,justify:"center"},r.a.createElement(q.a,{item:!0,xs:4},"Posts:"," ",this.state.userProfileData?4:null),r.a.createElement(q.a,{item:!0,xs:4},"Follows:"," ",this.state.userProfileData?124:null),r.a.createElement(q.a,{item:!0,xs:4},"Follows By:"," ",this.state.userProfileData?32:null)),r.a.createElement(C.a,{variant:"h5",component:"h2"},this.state.fullname?this.state.fullname:null,this.state.userProfileData&&!this.state.fullname?this.state.userProfileData.full_name:null,r.a.createElement(ne.a,{color:"secondary",id:"edit-profile","aria-label":"edit",onClick:this.handleOpen},r.a.createElement(J.a,null)))),r.a.createElement(q.a,{item:!0,xs:3})),r.a.createElement(ae,{data:this.state.userMediaData}),r.a.createElement(le,{editUserModal:this.state.editUserModal,handleClose:this.handleClose,updateClickHandler:this.updateClickHandler,submitClickHandler:this.submitClickHandler})))}}]),a}(n.Component),oe=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).baseUrl="https://graph.instagram.com/",e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(u.a,null,r.a.createElement("div",{className:"main-container"},r.a.createElement(d.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(w,Object.assign({},t,{baseUrl:e.baseUrl}))}}),r.a.createElement(d.a,{exact:!0,path:"/home",render:function(t){return r.a.createElement(X,Object.assign({},t,{baseUrl:e.baseUrl}))}}),r.a.createElement(d.a,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(ie,Object.assign({},t,{baseUrl:e.baseUrl}))}})))}}]),a}(n.Component);l.a.render(r.a.createElement(oe,null),document.getElementById("root"))},95:function(e,t,a){e.exports=a(114)}},[[95,1,2]]]);
//# sourceMappingURL=main.75749c14.chunk.js.map